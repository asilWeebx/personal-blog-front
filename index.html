<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!--
      - primary meta tags
    -->
    <title>Asilbek Yuldashev - Shaxsiy blog veb-sayti</title>
    <meta name="title" content="Wren - Perosonal Blog Website">
    <meta name="description" content="This is a blog html template made by codewithsadee">

    <!--
      - favicon
    -->
    <link rel="shortcut icon" href="./favicon.svg" type="image/svg+xml">

    <!--
      - google font link
    -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans:wght@300;400;500;600;700;800&display=swap"
          rel="stylesheet">

    <!--
      - custom css link
    -->
    <link rel="stylesheet" href="./assets/css/style.css">

    <!--
      - preload images
    -->
    <link rel="preload" as="image" href="readme-images/computer-programmer-illustration-png.webp">
    <link rel="preload" as="image" href="./assets/images/pattern-2.svg">
    <link rel="preload" as="image" href="./assets/images/pattern-3.svg">

</head>

<body id="top">

<!--
  - #HEADER
-->

<header class="header" data-header>
    <div class="container">

        <a href="#" class="logo">
            <img style="color: white;width: 69px;height: 69px" src="readme-images/4846343.png" width="119" height="37" alt="Wren logo">
        </a>

        <nav class="navbar" data-navbar>

            <div class="navbar-top">
                <a href="#" class="logo">
                    <img src="readme-images/4846343.png" width="119" height="37" alt="Wren logo">
                </a>

                <button class="nav-close-btn" aria-label="close menu" data-nav-toggler>
                    <ion-icon name="close-outline" aria-hidden="true"></ion-icon>
                </button>
            </div>

            <ul class="navbar-list">

                <li>
                    <a href="#home" class="navbar-link hover-1" data-nav-toggler>Uy</a>
                </li>

                <li>
                    <a href="#topics" class="navbar-link hover-1" data-nav-toggler>Mavzular</a>
                </li>

                <li>
                    <a href="#recent" class="navbar-link hover-1" data-nav-toggler>Oxirgi xabar</a>
                </li>

                <li>
                    <a href="#" class="navbar-link hover-1" data-nav-toggler>Aloqa</a>
                </li>

            </ul>

        </nav>

        <a href="#" class="btn btn-primary">Obuna boʻling</a>

        <button class="nav-open-btn" aria-label="open menu" data-nav-toggler>
            <ion-icon name="menu-outline" aria-hidden="true"></ion-icon>
        </button>

    </div>
</header>


<main>
    <article>

        <!--
          - #HERO
        -->

        <section class="hero" id="home" aria-label="home">
            <div class="container">

                <div class="hero-content">

                    <p class="hero-subtitle">Hammaga salom!</p>

                    <h1 class="headline headline-1 section-title">
                       Men <span class="span">Asilbek Yuldashev</span>
                    </h1>

                    <p class="hero-text">
                        Python Back-end Dasturchisiman bu mening shaxsiy blogim bu yerda IT sohasidagi bo'layotgan yangiliklar va o'zimning tajribam va yutuqlarim bilan bo'lishib boraman.
                    </p>

                    <div class="input-wrapper">

                        <input type="email" name="email_address" id="emailAddress" placeholder="Elektron pochta manzil" required
                               class="input-field" autocomplete="off">

                        <button class="btn btn-primary" onclick="subscribe()">
                            <span class="span">Obuna boʻling</span>

                            <ion-icon name="arrow-forward-outline" aria-hidden="true"></ion-icon>
                        </button>

                    </div>

                </div>

                <div class="hero-banner">

                    <img src="readme-images/computer-programmer-illustration-png.webp" width="327" height="490" alt="Wren Clark" class="w-100">

                    <img src="./assets/images/pattern-2.svg" width="27" height="26" alt="shape" class="shape shape-1">

                    <img src="./assets/images/pattern-3.svg" width="27" height="26" alt="shape" class="shape shape-2">

                </div>

                <img src="./assets/images/shadow-1.svg" width="500" height="800" alt="" class="hero-bg hero-bg-1">

                <img src="./assets/images/shadow-2.svg" width="500" height="500" alt="" class="hero-bg hero-bg-2">

            </div>
        </section>

        <br>
        <!--
          - #TOPICS
        -->

        <section class="topics" id="topics" aria-labelledby="topic-label">
            <div class="container">

                <div class="card topic-card">

                    <div class="card-content">

                        <h2 class="headline headline-2 section-title card-title" id="topic-label">
                           Projects
                        </h2>

                        <p class="card-text">
                            Bu yerda men qilgan va qatnashgan projectlarim bor...
                        </p>

                        <div class="btn-group">
                            <button id="prevBtn" class="btn-icon" aria-label="previous" data-slider-prev>
                                <ion-icon name="arrow-back" aria-hidden="true"></ion-icon>
                            </button>

                            <button id="nextBtn" class="btn-icon" aria-label="next" data-slider-next>
                                <ion-icon name="arrow-forward" aria-hidden="true"></ion-icon>
                            </button>
                        </div>

                    </div>

                    <div class="slider" data-slider>
                        <ul id="WebSite" class="slider-list" data-slider-container></ul>
                    </div>

                </div>

            </div>
        </section>


        <!--
          - #FEATURED POST
        -->

        <section class="section feature" aria-label="feature" id="featured">
            <div class="container">

                <h2 class="headline headline-2 section-title">
                    <span class="span">Yangi Bloglar</span>
                </h2>


                <ul id="blogList" ></ul>

                <a href="#" class="btn btn-secondary" id="paginationButtons">
                    <span class="span">Show More Posts</span>

                    <ion-icon name="arrow-forward" aria-hidden="true"></ion-icon>
                </a>

            </div>

            <img src="./assets/images/shadow-3.svg" width="500" height="1500" loading="lazy" alt="" class="feature-bg">

        </section>


        <!--
          - #POPULAR TAGS
        -->

        <section class="tags" aria-labelledby="tag-label">
            <div class="container">

                <h2 class="headline headline-2 section-title" id="tag-label">
                    <span class="span">Ommabop teglar</span>
                </h2>

                <p class="section-text">
                    Eng ko'p qidirilgan kalit so'zlar
                </p>

                <ul class="grid-list" id="tagshash"></ul>

            </div>
        </section>


        <!--
          - #RECENT POST
        -->

        <section class="section recent-post" id="recent" aria-labelledby="recent-label">
            <div class="container">

                <div class="post-main">

                    <h2 class="headline headline-2 section-title">
                        <span class="span">Oxirgi xabarlar</span>
                    </h2>

                    <p class="section-text">
                       Eng so'nggi tendentsiyalarni o'tkazib yubormang
                    </p>
                    <ul class="grid-list" id="recentPostsList"></ul>

                </div>



            </div>
        </section>

    </article>
</main>


<!--
  - #FOOTER
-->

<footer>
    <div class="container">

        <div class="card footer">

            <div class="section footer-top">

                <div class="footer-brand">

                    <a href="#" class="logo">
                        <img src="readme-images/4846343.png" width="119" height="37" loading="lazy" alt="Wren logo">
                    </a>

                    <p class="footer-list-title">Manzil</p>

                    <address class="footer-text address">
                      Карши, просп. Мустакиллик, 50
                    </address>

                </div>


                <div class="footer-list">

                    <p class="footer-list-title">Newsletter</p>

                    <p class="footer-text">
                        Bizni ilhomlantiradigan so'nggi voqealar, amaliy tadqiqotlar va soha yangiliklarini birinchi bo'lib olish uchun ro'yxatdan o'ting.
                    </p>

                    <div class="input-wrapper">
                        <input type="text" name="name" id="name" placeholder="Ismingiz" required class="input-field"
                               autocomplete="off">

                        <ion-icon name="person-outline" aria-hidden="true"></ion-icon>
                    </div>

                    <div class="input-wrapper">
                        <input type="email" name="email_address" id="emailA" placeholder="Email manzilingiz" required
                               class="input-field"
                               autocomplete="off">

                        <ion-icon name="mail-outline" aria-hidden="true"></ion-icon>
                    </div>

                    <a href="#" class="btn btn-primary" onclick="subscribes()">
                        <span class="span">Obuna boʻling</span>

                        <ion-icon name="arrow-forward" aria-hidden="true"></ion-icon>
                    </a>

                </div>

            </div>

            <div class="footer-bottom">

                <p class="copyright">
                    &copy; Developed by <a href="#" class="copyright-link">Yuldashevv.</a>
                </p>

                <ul class="social-list">


                    <li>
                        <a href="https://linkedin.com/in/asilbek-yuldoshev-154065264" class="social-link">
                            <ion-icon name="logo-linkedin"></ion-icon>

                            <span class="span">LinkedIn</span>
                        </a>
                    </li>

                    <li>
                        <a href="https://instagram.com/a.yuldashevv_" class="social-link">
                            <ion-icon name="logo-instagram"></ion-icon>

                            <span class="span">Instagram</span>
                        </a>
                    </li>

                </ul>

            </div>

        </div>

    </div>
</footer>


<!--
  - #BACK TO TOP
-->

<a href="#top" class="back-top-btn" aria-label="back to top" data-back-top-btn>
    <ion-icon name="arrow-up-outline" aria-hidden="true"></ion-icon>
</a>


<script>
    const apiUrl = 'https://personalblogas.pythonanywhere.com/api/blog/';
    const blogList = document.getElementById('blogList');
    const paginationButtons = document.getElementById('paginationButtons');

    function fetchBlogPosts(url) {
        fetch(url)
            .then(response => response.json())
            .then(data => {
                // Blog postlarini chiqaring
                blogList.innerHTML = '';
                data.results.forEach(post => {
                    const listItem = document.createElement('ul');
                    listItem.innerHTML = `<br><div class="card feature-card">
                            <figure class="card-banner img-holder" style="--width: 2000; --height: 903;">
                                <img src="${post.blog_image}" width="1602" height="903" loading="lazy"
                                    alt="Self-observation is the first step of inner unfolding" class="img-cover">
                            </figure>
                            <div class="card-content">
                                <div class="card-wrapper">
                                    <div class="card-tag">
                                        <a href="#" class="span hover-2">${post.hashtags}</a>
                                    </div>
                                    <div class="wrapper">
                                        <ion-icon name="time-outline" aria-hidden="true"></ion-icon>
                                        <span class="span">6 mins read</span>
                                    </div>
                                </div>
                                <h3 class="headline headline-3">
                                    <a href="#" class="card-title hover-2">
                                        ${post.text}
                                    </a>
                                </h3>
                                <a style="color: blue" href="${post.url}">${post.url_name}</a>
                                <div class="card-wrapper">
                                    <div class="profile-card">
                                        <img src="${post.author.profile_image}" width="48" height="68" loading="lazy"
                                            alt="${post.author.name}" class="profile-banner">
                                        <div>
                                            <p class="card-title">${post.author.name}</p>
                                            <p class="card-subtitle">${post.date}</p>
                                        </div>
                                    </div>

                                </div>
                            </div>
                        </div>`;
                    blogList.appendChild(listItem);
                });

                // Pagination tugmalarini chiqaring
                paginationButtons.innerHTML = '';
                if (data.previous) {
                    const prevButton = document.createElement('button');
                    prevButton.textContent = 'Previous';
                    prevButton.onclick = () => fetchBlogPosts(data.previous);
                    paginationButtons.appendChild(prevButton);
                }

                if (data.next) {
                    const nextButton = document.createElement('button');
                    nextButton.textContent = 'Next';
                    nextButton.onclick = () => fetchBlogPosts(data.next);
                    paginationButtons.appendChild(nextButton);
                }
            })
            .catch(error => console.error('Error:', error));
    }

    // Boshlang'ich sahifani yuklash
    fetchBlogPosts(apiUrl);

    document.addEventListener("DOMContentLoaded", function () {
        const apiUrl = 'https://personalblogas.pythonanywhere.com/api/posts/';
        const recentPostsList = document.getElementById('recentPostsList');

        fetch(apiUrl)
            .then(response => response.json())
            .then(data => {
                // Recent postsni chiqaring
                recentPostsList.innerHTML = '';
                data.results.forEach(post => {
                    const listItem = document.createElement('li');
                    listItem.innerHTML = `<div class="recent-post-card">
                            <figure class="card-banner img-holder" style="--width: 271; --height: 258;">
                                <img src="${post.post_images}" width="271" height="258" loading="lazy"
                                    alt="${post.title}" class="img-cover">
                            </figure>
                            <div class="card-content">
                                <a href="#" class="card-badge">${post.tips}</a>
                                <h3 class="headline headline-3 card-title">
                                    <a href="#" class="link hover-2">${post.title}</a>
                                </h3>
                                <p class="card-text">${post.text}</p>
                                <div class="card-wrapper">
                                    <div class="card-tag">
                                        <a href="#" class="span hover-2">${post.hashtags}</a>
                                    </div>
                                    <div class="wrapper">
                                        <ion-icon name="time-outline" aria-hidden="true"></ion-icon>
                                        <span class="span">3 mins read</span>
                                    </div>
                                </div>
                            </div>
                        </div>`;
                    recentPostsList.appendChild(listItem);
                });
            })
            .catch(error => console.error('Error:', error));
    });

    document.addEventListener("DOMContentLoaded", function () {
        const apiUrl = 'https://personalblogas.pythonanywhere.com/api/tags/';
        const tagshash = document.getElementById('tagshash');

        fetch(apiUrl)
            .then(response => response.json())
            .then(data => {
                // Recent postsni chiqaring
                tagshash.innerHTML = '';
                data.results.forEach(post => {
                    const listItem = document.createElement('span');
                    listItem.innerHTML = `<li>
                        <button class="card tag-btn">
                            <img style="border-radius: 15px" src="${post.tag_image}" width="48" height="48" loading="lazy" alt="Culture">

                            <p class="btn-text">${post.name}</p>
                        </button>
                    </li>`;
                    tagshash.appendChild(listItem);
                });
            })
            .catch(error => console.error('Error:', error));
    });
document.addEventListener("DOMContentLoaded", function () {
    const apiUrl = 'https://personalblogas.pythonanywhere.com/api/web/';
    const webContainer = document.getElementById('WebSite');
    const nextBtn = document.getElementById('nextBtn');
    const prevBtn = document.getElementById('prevBtn');
    let currentIndex = 0;
    let data;

    function showSlide(index) {
        const slides = document.querySelectorAll('.slider-item');
        slides.forEach((slide, i) => {
            slide.classList.remove('active');
            if (i === index) {
                slide.classList.add('active');
            }
        });
    }

    function moveSliderItem() {
        const item = document.querySelector('.slider-item.active');
        const itemLeft = item.offsetLeft;
        const containerLeft = webContainer.offsetLeft;
        const newLeft = containerLeft - itemLeft;
        webContainer.style.transform = `translateX(${newLeft}px)`;
    }

    function slidePrev() {
        if (data) {
            currentIndex = (currentIndex - 1 + data.results.length) % data.results.length;
            showSlide(currentIndex);
            moveSliderItem();
        }
    }

    function fetchDataAndShowSlides() {
        fetch(apiUrl)
            .then(response => {
                if (!response.ok) {
                    throw new Error('Network response was not ok');
                }
                return response.json();
            })
            .then(responseData => {
                data = responseData;
                webContainer.innerHTML = '';
                data.results.forEach((webSite, index) => {
                    const webItem = document.createElement('div');
                    webItem.classList.add('slider-item');
                    if (index === currentIndex) {
                        webItem.classList.add('active');
                    }
                    webItem.innerHTML = `
                        <a href="${webSite.url}" class="slider-card">
                            <figure class="slider-banner img-holder" style="--width: 507; --height: 618;">
                                <img src="${webSite.image_url}" width="507" height="618" loading="lazy"
                                    alt="${webSite.name}"
                                    class="img-cover">
                            </figure>
                            <div class="slider-content">
                                <span class="slider-title">${webSite.name}</span>
                            </div>
                        </a>
                    `;
                    webContainer.appendChild(webItem);
                });
            })
            .catch(error => console.error('Error fetching data:', error));
    }

    function automaticSlideChange() {
        setInterval(() => {
            currentIndex = (currentIndex + 1) % data.results.length;
            showSlide(currentIndex);
            moveSliderItem();
        }, 5000);
    }

    fetchDataAndShowSlides();
    automaticSlideChange();

    nextBtn.addEventListener("click", () => {
        if (data) {
            currentIndex = (currentIndex + 1) % data.results.length;
            showSlide(currentIndex);
            moveSliderItem();
        }
    });

    prevBtn.addEventListener("click", slidePrev);
});



     async function subscribe() {
            const emailInput = document.getElementById('emailAddress');
            const email = emailInput.value;

            if (!email) {
                alert('Iltimos, elektron pochta manzilni kiriting.');
                return;
            }

            try {
                const response = await fetch('https://personalblogas.pythonanywhere.com/api/emails/', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({ recipient: email }),
                });

                if (response.ok) {
                    alert('Muvaffaqiyatli obuna boʻldingiz!');
                    emailInput.value = '';
                } else {
                    const errorData = await response.json();
                    alert(`Xatolik: ${errorData.detail}`);
                }
            } catch (error) {
                console.error('Xatolik:', error);
                alert('Ishlatishda xatolik yuz berdi. Iltimos, qaytadan urinib koʻring.');
            }
        }

        // JavaScript
async function subscribes() {
    const nameInput = document.getElementById('name');
    const emailInput = document.getElementById('emailA');
    const name = nameInput.value;
    const email = emailInput.value;

    if (!name || !email) {
        alert('Iltimos, ismingizni va elektron pochta manzilni kiriting.');
        return;
    }

    try {
        const response = await fetch('https://personalblogas.pythonanywhere.com/api/email/', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
            },
            body: JSON.stringify({ name, recipient: email }),
        });

        if (response.ok) {
            alert('Muvaffaqiyatli obuna boʻldingiz!');
            nameInput.value = '';
            emailInput.value = '';
        } else {
            const errorData = await response.json();
            alert(`Xatolik: balki siz oldin obuna bulgandirsiz`);
        }
    } catch (error) {
        console.error('Xatolik:', error);
        alert('Ishlatishda xatolik yuz berdi. Iltimos, qaytadan urinib koʻring.');
    }
}

</script>
<!--
  - custom js link
-->
<script src="./assets/js/script.js"></script>

<!--
  - ionicon link
-->
<script type="module" src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.esm.js"></script>
<script nomodule src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.js"></script>

</body>

</html>